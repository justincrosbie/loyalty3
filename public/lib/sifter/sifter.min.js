/*! sifter.js | https://github.com/brianreavis/sifter.js | Apache License (v2) */
!function(t,r){if(typeof define==="function"&&define.amd){define(r)}else if(typeof exports==="object"){module.exports=r()}else{t.Sifter=r()}}(this,function(){var t=function(t,r){this.items=t;this.settings=r||{diacritics:true}};t.prototype.tokenize=function(t){t=n(String(t||"").toLowerCase());if(!t||!t.length)return[];var r,e,o,u;var f=[];var a=t.split(/ +/);for(r=0,e=a.length;r<e;r++){o=i(a[r]);if(this.settings.diacritics){for(u in s){if(s.hasOwnProperty(u)){o=o.replace(new RegExp(u,"g"),s[u])}}}f.push({string:a[r],regex:new RegExp(o,"i")})}return f};t.prototype.iterator=function(t,r){var e;if(o(t)){e=Array.prototype.forEach||function(t){for(var r=0,e=this.length;r<e;r++){t(this[r],r,this)}}}else{e=function(t){for(var r in this){if(this.hasOwnProperty(r)){t(this[r],r,this)}}}}e.apply(t,[r])};t.prototype.getScoreFunction=function(t,r){var e,n,i,o;e=this;t=e.prepareSearch(t,r);i=t.tokens;n=t.options.fields;o=i.length;var s=function(t,r){var e,n;if(!t)return 0;t=String(t||"");n=t.search(r.regex);if(n===-1)return 0;e=r.string.length/t.length;if(n===0)e+=.5;return e};var u=function(){var t=n.length;if(!t){return function(){return 0}}if(t===1){return function(t,r){return s(r[n[0]],t)}}return function(r,e){for(var i=0,o=0;i<t;i++){o+=s(e[n[i]],r)}return o/t}}();if(!o){return function(){return 0}}if(o===1){return function(t){return u(i[0],t)}}return function(t){for(var r=0,e=0;r<o;r++){e+=u(i[r],t)}return e/o}};t.prototype.prepareSearch=function(t,r){if(typeof t==="object")return t;return{options:e({},r),query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}};t.prototype.search=function(t,e){var n=this,i,s,u,f;u=this.prepareSearch(t,e);e=u.options;t=u.query;if(!o(e.fields))e.fields=[e.fields];f=e.score||n.getScoreFunction(u);if(t.length){n.iterator(n.items,function(t,r){s=f(t);if(s>0){u.items.push({score:s,id:r})}});u.items.sort(function(t,r){return r.score-t.score})}else{n.iterator(n.items,function(t,r){u.items.push({score:1,id:r})});if(e.sort){u.items.sort(function(){var t=e.sort;var i=e.direction==="desc"?-1:1;return function(e,o){return r(n.items[e.id][t],n.items[o.id][t])*i}}())}}u.total=u.items.length;if(typeof e.limit==="number"){u.items=u.items.slice(0,e.limit)}return u};var r=function(t,r){if(typeof t==="number"&&typeof r==="number"){return t>r?1:t<r?-1:0}t=String(t||"").toLowerCase();r=String(r||"").toLowerCase();if(t>r)return 1;if(r>t)return-1;return 0};var e=function(t,r){var e,n,i,o;for(e=1,n=arguments.length;e<n;e++){o=arguments[e];if(!o)continue;for(i in o){if(o.hasOwnProperty(i)){t[i]=o[i]}}}return t};var n=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")};var i=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")};var o=Array.isArray||$&&$.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};var s={a:"[a\xc0\xc1\xc2\xc3\xc4\xc5\xe0\xe1\xe2\xe3\xe4\xe5]",c:"[c\xc7\xe7]",e:"[e\xc8\xc9\xca\xcb\xe8\xe9\xea\xeb]",i:"[i\xcc\xcd\xce\xcf\xec\xed\xee\xef]",n:"[n\xd1\xf1]",o:"[o\xd2\xd3\xd4\xd5\xd5\xd6\xd8\xf2\xf3\xf4\xf5\xf6\xf8]",s:"[s\u0160\u0161]",u:"[u\xd9\xda\xdb\xdc\xf9\xfa\xfb\xfc]",y:"[y\u0178\xff\xfd]",z:"[z\u017d\u017e]"};return t});